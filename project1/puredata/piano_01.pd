#N canvas 3 60 680 657 10;
#X obj 241 507 osc~;
#X obj 241 428 mtof;
#X obj 241 543 *~ 1;
#X floatatom 241 469 5 0 0 0 - - -, f 5;
#X obj 78 45 loadbang;
#X text 116 360 MIDI Value comes in here.;
#X obj 217 181 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 145 275 5 0 0 0 - - -, f 5;
#X floatatom 269 274 5 0 0 0 - - -, f 5;
#X floatatom 379 274 5 0 0 0 - - -, f 5;
#X floatatom 514 276 5 0 0 0 - - -, f 5;
#X floatatom 325 185 5 0 0 0 - - -, f 5;
#X floatatom 431 181 5 0 0 0 - - -, f 5;
#X text 204 160 On/Off;
#X text 285 160 Beats Per Measure;
#X text 417 161 Tempo BPM;
#X text 119 292 Abs. Time (s);
#X text 241 292 Beat Ts (ms);
#X text 364 292 Measure #;
#X text 469 292 Measure Beat Count;
#N canvas 202 199 681 657 song_clock_02 0;
#X obj 93 516 metro;
#X floatatom 189 444 5 0 0 0 - - -, f 5;
#X text 227 443 Tempo in BPM.;
#X msg 93 345 1;
#X msg -24 345 0;
#X msg 120 447 60000;
#X obj 120 472 /;
#X obj 93 588 timer;
#X text -141 3 The purpose of this patch is to keep track of the time
scale of the playing environment. It has a metronome that keeps a steady
pulse \, and a timer that keeps track of the current time value as
the backing track is playing \, and as the user playes notes.;
#X obj -152 85 loadbang;
#X obj 110 383 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 36 496 timer;
#X msg 93 275 Metronome On;
#X msg -24 275 Metronome Off;
#X obj 93 317 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj -24 318 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 27 182 Start!;
#X obj 86 241 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj -24 240 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg -24 182 Stop!;
#X obj 93 563 t b b;
#X obj -95 450 metro 1 60000 permin;
#X floatatom 93 623 5 0 0 0 - - -, f 5;
#X floatatom -138 622 5 0 0 0 - - -, f 5;
#X text 70 181 (t=0ms at start);
#X text 133 623 Metronome Ts in ms.;
#X obj 93 541 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 36 383 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg -52 414 1;
#X msg -78 375 0;
#X obj -24 109 inlet;
#X obj -109 652 outlet;
#X obj 139 654 outlet;
#X text -70 84 Inlet 01: Start/Stop;
#X obj -24 155 moses 1;
#X obj 93 419 t b b;
#X text 80 679 Outlet 02: Metronome Ts in ms.;
#X obj 155 109 inlet;
#X text 81 84 Inlet 02: Time Sig. Numerator.;
#X obj 341 656 outlet;
#X text 296 679 Outlet 03: Measure #.;
#X obj 498 657 outlet;
#X floatatom 155 138 5 0 0 0 - - -, f 5;
#X floatatom -24 133 5 0 0 0 - - -, f 5;
#X obj 498 563 %;
#X floatatom 498 620 5 0 0 0 - - -, f 5;
#X obj -10 551 / 1000;
#X text -170 678 Outlet 01: Current Time in sec.;
#X obj 341 493 /;
#X obj 181 595 / 1000;
#X floatatom 248 554 5 0 0 0 - - -, f 5;
#X floatatom 341 519 5 0 0 0 - - -, f 5;
#X floatatom 120 497 5 0 0 0 - - -, f 5;
#X text -98 623 Current time (sec. since t=0).;
#X obj 175 568 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 341 565 /;
#X obj 341 592 int;
#X obj 341 617 + 1;
#X obj 357 110 inlet;
#X floatatom 357 139 5 0 0 0 - - -, f 5;
#X text 317 85 Inlet 03: Tempo.;
#X msg 373 168 1;
#X obj 328 218 spigot 0;
#X text 453 680 Outlet 04: Measure Beat #.;
#X obj 341 540 int;
#X obj 498 592 + 1;
#X connect 0 0 26 0;
#X connect 1 0 6 1;
#X connect 1 0 35 0;
#X connect 3 0 10 0;
#X connect 3 0 35 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 52 0;
#X connect 7 0 22 0;
#X connect 7 0 54 0;
#X connect 9 0 18 0;
#X connect 10 0 1 0;
#X connect 11 0 46 0;
#X connect 12 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 3 0;
#X connect 15 0 4 0;
#X connect 16 0 17 0;
#X connect 17 0 12 0;
#X connect 17 0 27 0;
#X connect 17 0 61 0;
#X connect 17 0 59 0;
#X connect 18 0 13 0;
#X connect 18 0 29 0;
#X connect 19 0 18 0;
#X connect 20 0 7 0;
#X connect 20 1 7 1;
#X connect 21 0 11 1;
#X connect 22 0 32 0;
#X connect 22 0 49 0;
#X connect 23 0 31 0;
#X connect 23 0 48 0;
#X connect 26 0 20 0;
#X connect 27 0 11 0;
#X connect 27 0 28 0;
#X connect 28 0 21 0;
#X connect 29 0 21 0;
#X connect 30 0 43 0;
#X connect 34 0 19 0;
#X connect 34 1 16 0;
#X connect 35 0 0 0;
#X connect 35 1 5 0;
#X connect 37 0 42 0;
#X connect 42 0 44 1;
#X connect 42 0 55 1;
#X connect 43 0 34 0;
#X connect 43 0 62 1;
#X connect 44 0 65 0;
#X connect 45 0 41 0;
#X connect 46 0 23 0;
#X connect 48 0 51 0;
#X connect 49 0 50 0;
#X connect 50 0 48 1;
#X connect 51 0 64 0;
#X connect 52 0 0 1;
#X connect 54 0 50 0;
#X connect 55 0 56 0;
#X connect 56 0 57 0;
#X connect 57 0 39 0;
#X connect 58 0 59 0;
#X connect 59 0 62 0;
#X connect 61 0 62 1;
#X connect 62 0 1 0;
#X connect 64 0 55 0;
#X connect 64 0 44 0;
#X connect 65 0 45 0;
#X restore 288 227 pd song_clock_02;
#X obj 193 384 r \$0-midinote;
#X msg 366 467 0;
#X obj 400 376 t b b;
#X obj 731 77 r \$0-tempo;
#X obj 741 458 r \$0-volume;
#X obj 233 98 s \$0-tempo;
#X msg 179 71 120;
#X msg 227 25 50;
#X obj 281 52 s \$0-volume;
#X obj 692 23 r \$0-beatsPerMeasure;
#X obj 393 29 s \$0-beatsPerMeasure;
#X msg 339 2 4;
#X obj 476 326 sel 1 2 3 4;
#X obj 398 413 delay 10;
#X msg 314 421 60;
#X obj 236 579 dac~;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 36 0;
#X connect 2 0 36 1;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 4 0 27 0;
#X connect 4 0 28 0;
#X connect 4 0 32 0;
#X connect 6 0 20 0;
#X connect 10 0 33 0;
#X connect 11 0 20 1;
#X connect 12 0 20 2;
#X connect 20 0 7 0;
#X connect 20 1 8 0;
#X connect 20 2 9 0;
#X connect 20 3 10 0;
#X connect 21 0 35 0;
#X connect 22 0 0 0;
#X connect 23 0 34 0;
#X connect 23 1 35 0;
#X connect 24 0 12 0;
#X connect 25 0 2 1;
#X connect 27 0 26 0;
#X connect 28 0 29 0;
#X connect 30 0 11 0;
#X connect 32 0 31 0;
#X connect 33 0 23 0;
#X connect 33 2 23 0;
#X connect 34 0 22 0;
#X connect 35 0 1 0;
